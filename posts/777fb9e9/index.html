<!DOCTYPE html><html lang="zh-TW" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>9Patch 介紹 | JerryC</title><meta name="description" content="9Patch圖片介紹9Patch圖片是一種特殊的png圖片,以.9.png結尾,它在原始的圖片四周各添加一個寬度為1像素的像條,這4條線條決定了該圖片的縮放規則、內容顯示規則。 在Android Studio 上編輯.9.png,具體是在Android Studio上右鍵點擊你要編輯的照片,選擇Create 9-Patch file就可以進入編輯界面。   這就是9-Patch的編輯界面 Opti"><meta name="keywords" content="AndroidStudio,9Patch,Android, 安卓"><meta name="author" content="JerryC,wong@jerryc.me"><meta name="copyright" content="JerryC"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="shortcut icon" href="/pwa/favicon.ico"><link rel="canonical" href="https://jerryc.me/posts/777fb9e9/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//fonts.googleapis.com" crossorigin="crossorigin"><meta name="google-site-verification" content="CteF4lqgJrLkOjzNWZfOJnd5n5AhMvoH5hYJ_bWPxq8"><meta name="msvalidate.01" content="FC87DFEDA9899AEA91E028F093A03416"><meta name="baidu-site-verification" content="ApfblsV1NM"><meta name="360-site-verification" content="8c0e5fdcdef668cffe962f1cf3f99a03"><meta name="yandex-verification" content="85af9b89e0417ac7"><meta property="og:type" content="article"><meta property="og:title" content="9Patch 介紹"><meta property="og:url" content="https://jerryc.me/posts/777fb9e9/"><meta property="og:site_name" content="JerryC"><meta property="og:description" content="9Patch圖片介紹9Patch圖片是一種特殊的png圖片,以.9.png結尾,它在原始的圖片四周各添加一個寬度為1像素的像條,這4條線條決定了該圖片的縮放規則、內容顯示規則。 在Android Studio 上編輯.9.png,具體是在Android Studio上右鍵點擊你要編輯的照片,選擇Create 9-Patch file就可以進入編輯界面。   這就是9-Patch的編輯界面 Opti"><meta property="og:image" content="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/9Patch_Introduction.jpg"><meta property="article:published_time" content="2018-07-19T11:19:28.000Z"><meta property="article:modified_time" content="2020-01-20T09:00:33.000Z"><meta name="twitter:card" content="summary"><link rel="manifest" href="/pwa/site.webmanifest"><link rel="apple-touch-icon" sizes="180x180" href="/pwa/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/pwa/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/pwa/favicon-16x16.png"><link rel="mask-icon" href="/pwa/safari-pinned-tab.svg" color="#5bbad5"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web&amp;display=swap"><script>var GLOBAL_CONFIG={root:"/",hexoversion:"5.2.0",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"找不到您查詢的內容：${query}"}},translate:{defaultEncoding:1,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},noticeOutdate:{limitDay:400,position:"top",messagePrev:"距離上次更新已經",messageNext:"天，該文章內容/教程可能已經發生變化，請留意。"},highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0},copy:{success:"複製成功",error:"複製錯誤",noSupport:"瀏覽器不支援"},bookmark:{message_prev:"按",message_next:"鍵將本頁加入書籤"},runtime:"天",date_suffix:{one_hour:"剛剛",hours:"小時前",day:"天前"},copyright:{limitCount:150,languages:{author:"作者: JerryC",link:"連結: ",source:"來源: JerryC",info:"著作權歸作者所有。商業轉載請聯絡作者獲得授權，非商業轉載請註明出處。"}},ClickShowText:void 0,medium_zoom:!0,fancybox:!1,Snackbar:void 0,justifiedGallery:{js:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js",css:"https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css"},baiduPush:!1,isPhotoFigcaption:!1,islazyload:!0,isanchor:!0},saveToLocal={set:function(e,i,t){const s=864e5*t,a={value:i,expiry:(new Date).getTime()+s};localStorage.setItem(e,JSON.stringify(a))},get:function(e){const i=localStorage.getItem(e);if(!i)return;const t=JSON.parse(i);if(!((new Date).getTime()>t.expiry))return t.value;localStorage.removeItem(e)}}</script><script id="config_change">var GLOBAL_CONFIG_SITE={isPost:!0,isHome:!1,isHighlightShrink:!1,isSidebar:!0,postUpdate:"2020-01-20 17:00:33"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}</style></noscript><script>var activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")},autoChangeMode="1",t=saveToLocal.get("theme");if("1"===autoChangeMode){var isDarkMode=window.matchMedia("(prefers-color-scheme: dark)").matches,isLightMode=window.matchMedia("(prefers-color-scheme: light)").matches,isNotSpecified=window.matchMedia("(prefers-color-scheme: no-preference)").matches,hasNoSupport=!isDarkMode&&!isLightMode&&!isNotSpecified;if(void 0===t){if(isLightMode)activateLightMode();else if(isDarkMode)activateDarkMode();else if(isNotSpecified||hasNoSupport){var now=new Date,hour=now.getHours(),isNight=hour<=6||hour>=18;isNight?activateDarkMode():activateLightMode()}window.matchMedia("(prefers-color-scheme: dark)").addListener((function(e){void 0===saveToLocal.get("theme")&&(e.matches?activateDarkMode():activateLightMode())}))}else"light"===t?activateLightMode():activateDarkMode()}else"2"===autoChangeMode?(isNight=(hour=(now=new Date).getHours())<=6||hour>=18,void 0===t?isNight?activateDarkMode():activateLightMode():"light"===t?activateLightMode():activateDarkMode()):"dark"===t?activateDarkMode():"light"===t&&activateLightMode()</script><style>.app-refresh{position:fixed;top:-2.2rem;left:0;right:0;z-index:99999;padding:0 1rem;font-size:15px;height:2.2rem;transition:all .3s ease}.app-refresh-wrap{display:flex;color:#fff;height:100%;align-items:center;justify-content:center}.app-refresh-wrap a{color:#fff;text-decoration:underline;cursor:pointer}#post{font-size:1.05em}</style><link rel="alternate" href="/atom.xml" title="JerryC" type="application/atom+xml"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" data-lazy-src="/image/avatar.png" onerror='onerror=null,src="/img/friend_404.gif"' alt="avatar"></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">25</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/tags/"><div class="headline">標籤</div><div class="length_num">31</div></a></div></div><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/categories/"><div class="headline">分類</div><div class="length_num">10</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>標籤</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分類</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-heartbeat"></i> <span>娛樂</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i> <span>電影</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fas fa-camera-retro"></i> <span>照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-coffee"></i> <span>留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-user-friends"></i> <span>友鏈</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>關於</span></a></div></div></div></div><div id="body-wrap"><div id="sidebar"><i class="fas fa-arrow-right on" id="toggle-sidebar"></i><div class="sidebar-toc"><div class="sidebar-toc__title">目錄</div><div class="sidebar-toc__progress"><span class="progress-notice">你已經讀了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#9Patch%E5%9C%96%E7%89%87%E4%BB%8B%E7%B4%B9"><span class="toc-number">1.</span> <span class="toc-text">9Patch圖片介紹</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9Patch-%E7%9B%B8%E9%97%9C%E6%96%87%E7%AB%A0"><span class="toc-number">2.</span> <span class="toc-text">9Patch 相關文章</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Android%E8%A8%AD%E8%A8%88%E4%B8%AD%E5%A6%82%E4%BD%95%E5%88%87%E5%9C%96-9-png%EF%BC%88%E9%BB%9E9%E5%9C%96%EF%BC%89"><span class="toc-number">2.1.</span> <span class="toc-text">Android設計中如何切圖.9.png（點9圖）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#A-simple-guide-to-9-patch-for-Android-UI"><span class="toc-number">2.2.</span> <span class="toc-text">A simple guide to 9-patch for Android UI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E8%B3%87%E6%96%99"><span class="toc-number">2.3.</span> <span class="toc-text">其他資料</span></a></li></ol></li></ol></div></div></div><header class="post-bg" id="page-header" style="background-image:url(https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/9Patch_Introduction.jpg)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">JerryC</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜尋</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>標籤</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分類</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fas fa-heartbeat"></i> <span>娛樂</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/movies/"><i class="fa-fw fas fa-video"></i> <span>電影</span></a></li><li><a class="site-page" href="/photos/"><i class="fa-fw fas fa-camera-retro"></i> <span>照片</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-coffee"></i> <span>留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-user-friends"></i> <span>友鏈</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i> <span>關於</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><div id="post-title"><div class="posttitle">9Patch 介紹</div></div><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">發表於</span><time class="post-meta-date-created" datetime="2018-07-19T11:19:28.000Z" title="發表於 2018-07-19 19:19:28">2018-07-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新於</span><time class="post-meta-date-updated" datetime="2020-01-20T09:00:33.000Z" title="更新於 2020-01-20 17:00:33">2020-01-20</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Android/">Android</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Android/%E7%AC%AC%E4%B8%80%E8%A1%8C%E4%BB%A3%E7%A2%BC/">第一行代碼</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字數總計:</span><span class="word-count">2.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">閲讀時長:</span><span>9分鐘</span></span></div></div></div></header><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="9Patch圖片介紹"><a href="#9Patch圖片介紹" class="headerlink" title="9Patch圖片介紹"></a>9Patch圖片介紹</h1><p>9Patch圖片是一種特殊的png圖片,以.9.png結尾,它在原始的圖片四周各添加一個寬度為1像素的像條,這4條線條決定了該圖片的縮放規則、內容顯示規則。</p><p>在Android Studio 上編輯<code>.9.png</code>,具體是在Android Studio上右鍵點擊你要編輯的照片,選擇<code>Create 9-Patch file</code>就可以進入編輯界面。</p><p><img src="/image/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/9png1.png"></p><p><img src="/image/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/9png2.png"></p><p>這就是9-Patch的編輯界面</p><p>Optional controls include:</p><ul><li>Zoom: Adjust the zoom level of the graphic in the drawing area.</li><li>Patch scale: Adjust the scale of the images in the preview area.</li><li>Show lock: Visualize the non-drawable area of the graphic on mouse-over.</li><li>Show patches: Preview the stretchable patches in the drawing area (pink is a stretchable patch), as shown in figure 2, above.</li><li>Show content: Highlight the content area in the preview images (purple is the area in which content is allowed), as shown in figure 2.</li><li>Show bad patches: Adds a red border around patch areas that may produce artifacts in the graphic when stretched, as shown in figure 2. Visual coherence of your stretched image will be maintained if you eliminate all bad patches.</li></ul><p><img src="/image/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/9png3.png"></p><p>這3個從上到下依次是</p><ul><li>縱向拉伸的預覽</li><li>橫線拉伸的預覽</li><li>縱橫向一起拉伸的預覽</li></ul><p>9Patch的規則：</p><p><img src="/image/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/9png4.png"><br><img src="/image/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/9png5.png"></p><ul><li><p>上側和左側的黑色線段共同決定了圖片的縮放區域</p><ul><li>上側的黑色線段為上邊界繪製巨型,它覆蓋的區域可以水平縮放。</li><li>左側的黑色線段為左邊界繪製巨型,它覆蓋的區域可以縱向上縮放。</li><li>它們二者的交集區域可以在兩個方向上縮放</li></ul></li><li><p>下側和右側的黑色線段共同決定了圖片的內容顯示區域</p><ul><li>以下側的黑色線段為下邊界繪製巨型</li><li>以右側的黑色線段為右邊界繪製巨型</li><li>它們二者的交集區域為內容顯示區域</li></ul></li></ul><h1 id="9Patch-相關文章"><a href="#9Patch-相關文章" class="headerlink" title="9Patch 相關文章"></a>9Patch 相關文章</h1><h2 id="Android設計中如何切圖-9-png（點9圖）"><a href="#Android設計中如何切圖-9-png（點9圖）" class="headerlink" title="Android設計中如何切圖.9.png（點9圖）"></a>Android設計中如何切圖.9.png（點9圖）</h2><blockquote><p>轉自: <a target="_blank" rel="noopener external nofollow noreferrer" href="http://www.miued.com/2074/">http://www.miued.com/2074/</a></p></blockquote><p><img src="/image/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/1.png"></p><p>在Android的設計過程中,為了適配不同的手機分辨率,圖片大多需要拉伸或者壓縮,這樣就出現了可以任意調整大小的一種圖片格式“.9.png”。這種圖片是用於Android開發的一種特殊的圖片格式,它的好處在於可以用簡單的方式把一張圖片中哪些區域可以拉伸,哪些區域不可以拉伸設定好,同時可以把顯示內容區域的位置標示清楚。<br>本文結合一些具體的例子來看下.9.png的具體用法。</p><p>首先看下普通的.png資源與.9.png的資源區別：</p><p><img src="/image/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/2.png"></p><p>普通的png資源就不多介紹了,可以明顯看到.9.png的外圍是有一些黑色的線條的,那這些線條是用來做什麼的呢？我們來看下放大的圖像：</p><p><img src="/image/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/3.png"></p><p>放大後可以比較明顯的看到上下左右分別有一個像素的黑色線段,這裏分別標註了序號。簡單來説,序號1和2標識了可以拉伸的區域,序號3和4標識了內容區域。當設定了按鈕實際應用的寬和高之後,橫向會拉伸1區域的像素,縱向會拉伸2區域的像素。如下圖：</p><p><img src="/image/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/5.png"></p><p>拉伸的含義應該比較容易理解,但是內容區域的標註有什麼意義呢？我們來看下圖：</p><p><img src="/image/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/6.png"></p><p>這裏程序設置的文字垂直居中,水平居左的對齊方式。對齊方式是沒有問題的,但是對於這種大圓角同時又有些不規則邊框的的圖形來説,錯誤的標註方式會讓排版看起來很混亂。所以我們需要修正內容區域的線段位置和長度。</p><p><img src="/image/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/7.png"></p><p>把橫向的內容區域縮短到圓角以內,縱向的內容區域控制在輸入框的高度以內,這樣文字就可以正常顯示了。</p><p>這裏還有一種特殊情況,就是本身是.9.png的資源,但是在修改過程中你希望這張.9.png不能被拉伸（在做皮膚的情況中有可能會遇到）,那怎麼辦呢？只要把拉伸區域的點點在透明像素的地方就可以了,這樣拉伸的時候會拉伸透明部分的像素,而不會拉伸圖像本身。如下圖:</p><p><img src="/image/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/8.png"></p><p>大家可以看到拉伸區域的黑點是可以不連續的。</p><p>説了半天.9.png的用法,那.9.png如何輸出呢？有很多種方式可以輸出.9.png,比如説用draw9patch.bat這個工具,或者簡單一點,用photoshop直接輸出。輸出的方式是先輸出普通的png資源,然後擴大畫布大小,上下左右各空出一個像素,再用一個像素的鉛筆工具（顏色選擇純黑色）,上下左右分別畫點就可以了,保存的時候注意把後綴修改為.9.png。<br>有兩點需要特別注意下：<br>1.最外圍的一圈像素必須要麼是純黑色,要麼是透明,一點點的半透明的像素都不可以有,比如説99%的黑色或者是1%的投影都不可以有;<br>2.文件的後綴名必須是.9.png,不能是.png或者是.9.png.png,這樣的命名都會導致編譯失敗。</p><h2 id="A-simple-guide-to-9-patch-for-Android-UI"><a href="#A-simple-guide-to-9-patch-for-Android-UI" class="headerlink" title="A simple guide to 9-patch for Android UI"></a>A simple guide to 9-patch for Android UI</h2><blockquote><p>轉自:<a target="_blank" rel="noopener external nofollow noreferrer" href="http://radleymarx.com/ux-dev/simple-guide-to-9-patch/">http://radleymarx.com/ux-dev/simple-guide-to-9-patch/</a></p></blockquote><p>While I was working on my first Android app, I found 9-patch (aka 9.png) to be confusing and poorly documented. After a little while, I finally picked up on how it works and decided to throw together something to help others figure it out.</p><p>Basically, 9-patch uses png transparency to do an advanced form of 9-slice or scale9. The guides are straight, 1-pixel black lines drawn on the edge of your image that define the scaling and fill of your image. By naming your image file name.9.png, Android will recognize the 9.png format and use the black guides to scale and fill your bitmaps.</p><p>Here’s a basic guide map:</p><p><img src="/image/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/9.png"></p><p>9-patch-guides</p><p>As you can see, you have guides on each side of your image. The TOP and LEFT guides are for scaling your image (i.e. 9-slice), while the RIGHT and BOTTOM guides define the fill area.</p><p>The black guide lines are cut-off/removed from your image - they won’t show in the app. Guides must only be one pixel wide, so if you want a 48x48 button, your png will actually be 50x50. Anything thicker than one pixel will remain part of your image. (My examples have 4-pixel wide guides for better visibility. They should really be only 1-pixel).</p><p>Your guides must be solid black (#000000). Even a slight difference in color (#000001) or alpha will cause it to fail and stretch normally. This failure won’t be obvious either*, it fails silently! Yes. Really. Now you know.</p><p>Also you should keep in mind that remaining area of the one-pixel outline must be completely transparent. This includes the four corners of the image - those should always be clear. This can be a bigger problem than you realize. For example, if you scale an image in Photoshop it will add anti-aliased pixels which may include almost-invisible pixels which will also cause it to fail*. If you must scale in Photoshop, use the Nearest Neighbor setting in the Resample Image pulldown menu (at the bottom of the Image Size pop-up menu) to keep sharp edges on your guides.</p><p>This is actually a “fix” in the latest dev kit. Previously it would manifest itself as all of your other images and resources suddenly breaking, not the actually broken 9-patch image.</p><p><img src="/image/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/10.png"></p><p>scalable-area</p><p>The TOP and LEFT guides are used to define the scalable portion of your image - LEFT for scaling height, TOP for scaling width. Using a button image as an example, this means the button can stretch horizontally and vertically within the black portion and everything else, such as the corners, will remain the same size. The allows you to have buttons that can scale to any size and maintain a uniform look.</p><p>It’s important to note that 9-patch images don’t scale down - they only scale up. So it’s best to start as small as possible.</p><p>Also, you can leave out portions in the middle of the scale line. So for example, if you have a button with a sharp glossy edge across the middle, you can leave out a few pixels in the middle of the LEFT guide. The center horizontal axis of your image won’t scale, just the parts above and below it, so your sharp gloss won’t get anti-aliased or fuzzy.</p><p><img src="/image/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/11.png"></p><p>Fill area guides are optional and provide a way define the area for stuff like your text label. Fill determines how much room there is within your image to place text, or an icon, or other things. 9-patch isn’t just for buttons, it works for background images as well.</p><p>The above button &amp; label example is exaggerated simply to explain the idea of fill - the label isn’t completely accurate. To be honest, I haven’t experienced how Android does multi-line labels since a button label is usually a single row of text.</p><p>Finally, here’s a good demonstration of how scale and fill guides can vary, such as a LinearLayout with a background image &amp; fully rounded sides:</p><p><img src="/image/loading.gif" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/blog/9Patch/12.jpg"></p><p>With this example, the LEFT guide isn’t used but we’re still required to have a guide. The background image don’t scale vertically; it just scales horizontally (based on the TOP guide). Looking at the fill guides, the RIGHT and BOTTOM guides extend beyond where they meet the image’s curved edges. This allows me to place my round buttons close to the edges of the background for a tight, fitted look.</p><p>So that’s it. 9-patch is super easy, once you get it. It’s not a perfect way to do scaling, but the fill-area and multi-line scale-guides does offer more flexibility than traditional 9-slice and scale9. Give it a try and you’ll figure it out quickly.</p><h2 id="其他資料"><a href="#其他資料" class="headerlink" title="其他資料"></a>其他資料</h2><ol><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://developer.android.com/studio/write/draw9patch">Create resizable bitmaps (9-Patch files)</a></li><li><a target="_blank" rel="noopener external nofollow noreferrer" href="https://developer.android.com/guide/topics/graphics/drawables#nine-patch">Drawables overview</a></li></ol></div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者:</span> <span class="post-copyright-info"><a href="mailto:wong@jerryc.me">JerryC</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章連結:</span> <span class="post-copyright-info"><a href="https://jerryc.me/posts/777fb9e9/">https://jerryc.me/posts/777fb9e9/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版權聲明:</span> <span class="post-copyright-info">本部落格所有文章除特別聲明外，均採用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 許可協議。轉載請註明來自 <a href="https://jerryc.me" target="_blank">JerryC</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/9Patch/">9Patch</a><a class="post-meta__tags" href="/tags/Android/">Android</a><a class="post-meta__tags" href="/tags/UI/">UI</a><a class="post-meta__tags" href="/tags/%E7%AC%AC%E4%B8%80%E8%A1%8C%E4%BB%A3%E7%A2%BC/">第一行代碼</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/9Patch_Introduction.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打賞<div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/image/wechat.jpg" target="_blank"><img class="post-qr-code-img" data-lazy-src="/image/wechat.jpg" alt="微信"></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/image/alipay.jpg" target="_blank"><img class="post-qr-code-img" data-lazy-src="/image/alipay.jpg" alt="支付寶"></a><div class="post-qr-code-desc">支付寶</div></li><li class="reward-item"><a href="https://paypal.me/iamjerrywong?locale.x=zh_HK" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" data-lazy-src="/image/paypal.png" alt="Paypal（點擊圖片跳轉）"></a><div class="post-qr-code-desc">Paypal（點擊圖片跳轉）</div></li></ul></div></div></div><div class="post-ad"><ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-fb+5w+4e-db+86" data-ad-client="ca-pub-8919908724705274" data-ad-slot="5978969231"></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/d6615de0/"><img class="prev-cover" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/android-cover.png" onerror='onerror=null,src="/img/404.jpg"'><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Adapter</div></div></a></div><div class="next-post pull-right"><a href="/posts/7029147f/"><img class="next-cover" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/RecyclerView.png" onerror='onerror=null,src="/img/404.jpg"'><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">第一行代碼筆記-RecyclerView</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i> <span>相關推薦</span></div><div class="relatedPosts-list"><div><a href="/posts/d6615de0/" title="Adapter"><img class="cover" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/android-cover.png"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2018-07-20</div><div class="title">Adapter</div></div></a></div><div><a href="/posts/44aa2b74/" title="第一行代碼筆記-創建自定義控件"><img class="cover" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/Create_a_custom_components.jpg"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2018-07-05</div><div class="title">第一行代碼筆記-創建自定義控件</div></div></a></div><div><a href="/posts/effd323a/" title="第一行代碼筆記-Android Studio工程目錄結構介紹"><img class="cover" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/Android_Studio_Projects_Overview.png"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2018-06-08</div><div class="title">第一行代碼筆記-Android Studio工程目錄結構介紹</div></div></a></div><div><a href="/posts/75c18a/" title="第一行代碼筆記-ListView"><img class="cover" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/ListView.png"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2018-07-05</div><div class="title">第一行代碼筆記-ListView</div></div></a></div><div><a href="/posts/7029147f/" title="第一行代碼筆記-RecyclerView"><img class="cover" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/RecyclerView.png"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2018-07-15</div><div class="title">第一行代碼筆記-RecyclerView</div></div></a></div><div><a href="/posts/a4ecdf66/" title="第一行代碼筆記-bulid.gradle 解析"><img class="cover" data-lazy-src="https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/build_gradle_overview.png"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2018-06-08</div><div class="title">第一行代碼筆記-bulid.gradle 解析</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>評論</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div></div></div></article></main><footer id="footer" style="background-image:url(https://cdn.jsdelivr.net/gh/jerryc127/CDN@latest/cover/9Patch_Introduction.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2018 - 2020 By JerryC</div><div class="framework-info"><span>框架</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主題</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><section id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="閱讀模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="簡繁轉換">簡</button><button id="darkmode" type="button" title="淺色和深色模式轉換"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="設定"><i class="fas fa-cog"></i></button><a id="to_comment" href="#post-comment" title="直達評論"><i class="fas fa-comments"></i></a><button class="close" id="mobile-toc-button" type="button" title="目錄"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到頂部"><i class="fas fa-arrow-up"></i></button></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜尋</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜尋文章" type="text"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/wzpan/hexo-generator-search" style="color:#49b1f5">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module" defer></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadDisqusjs(){function s(){window.DISQUS=null,new DisqusJS({shortname:"https-jerryc-me",siteName:"JerryC",identifier:"posts/777fb9e9/",url:"https://jerryc.me/posts/777fb9e9/",title:"9Patch 介紹",api:"https://disqus.skk.moe/disqus/",apikey:"nrSx8ZhuHvjwDeKauPZ3lMnyLb7iR92BT4wl4AlKG4eJl27jxXlzOeLQ9SJP1RDW",nocomment:"這裏冷冷清清的，一條評論都沒有，快來留下印記。",admin:"iamjerryc",adminLabel:"博主"})}window.disqusReset=s,window.disqusJsLoad?s():(!function(){const s=document.createElement("link");s.rel="stylesheet",s.href="https://cdn.jsdelivr.net/npm/disqusjs@1/dist/disqusjs.css",document.getElementsByTagName("head")[0].appendChild(s)}(),$.getScript("https://cdn.jsdelivr.net/npm/disqusjs@1/dist/disqus.js",s),window.disqusJsLoad=!0)}{function loadOtherComment(){loadDisqusjs()}btf.loadComment(document.getElementById("disqus_thread"),loadDisqusjs)}</script></div><script>window.addEventListener("load",()=>{const e=e=>{let t="";for(let s=0;s<e.length;s++)t+="<div class='aside-list-item'>",t+=`<a href='${e[s].url}' class="thumbnail"><img src='${e[s].avatar}'></a>`,t+=`<div class='content'>\n      <a class='comment' href='${e[s].url}'>${e[s].content}</a>\n      <div class='name'><span>${e[s].nick}</span><time> / ${btf.diffDate(e[s].date,!0)}</time></div>\n      </div></div>`;let s=document.querySelector(".card-newest-comments .aside-list");s.innerHTML=t,window.pjax&&window.pjax.refresh(s)},t=()=>{if(document.querySelector(".card-newest-comments .aside-list")){const t=saveToLocal.get("disqus-newest-comments");t?e(JSON.parse(t)):(()=>{let t=[];$.getJSON("https://disqus.com/api/3.0/forums/listPosts.json?forum=https-jerryc-me&related=thread&limit=6&api_key=nrSx8ZhuHvjwDeKauPZ3lMnyLb7iR92BT4wl4AlKG4eJl27jxXlzOeLQ9SJP1RDW",(function(s){$.each(s.response,(e,s)=>{var a;t.push({avatar:s.author.avatar.cache,content:(a=s.message,""===a||(a=(a=(a=a.replace(/<[^>]+>/g,"")).replace(/(http(s?):)([/|.|\w|\s|-])*\.(?:jpg|jpeg|gif|png|webp)/g,"")).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"")).length>150&&(a=a.substring(0,150)+"..."),a),nick:s.author.name,url:s.url,date:s.createdAt})}),saveToLocal.set("disqus-newest-comments",JSON.stringify(t),10/1440),e(t)}))})()}};t(),document.addEventListener("pjax:complete",t)})</script><div class="app-refresh" id="app-refresh"><div class="app-refresh-wrap"><label>✨ 網站已更新最新版本 👉</label> <a href="javascript:void(0)" rel="external nofollow noreferrer" onclick="location.reload()">點擊刷新</a></div></div><script>function showNotification(){if(GLOBAL_CONFIG.Snackbar){var t="light"===document.documentElement.getAttribute("data-theme")?GLOBAL_CONFIG.Snackbar.bgLight:GLOBAL_CONFIG.Snackbar.bgDark,e=GLOBAL_CONFIG.Snackbar.position;Snackbar.show({text:"已更新最新版本",backgroundColor:t,duration:5e5,pos:e,actionText:"點擊刷新",actionTextColor:"#fff",onActionClick:function(t){location.reload()}})}else{var o=`top: 0; background: ${"light"===document.documentElement.getAttribute("data-theme")?"#49b1f5":"#1f1f1f"};`;document.getElementById("app-refresh").style.cssText=o}}"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("controllerchange",(function(){showNotification()})),window.addEventListener("load",(function(){navigator.serviceWorker.register("/sw.js")})))</script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors=["title","meta[name=description]","#config_change","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"];var pjax=new Pjax({elements:'a:not([target="_blank"])',selectors:pjaxSelectors,cacheBust:!1,analytics:!1,scrollRestoration:!1});document.addEventListener("pjax:complete",(function(){window.refreshFn(),$("script[data-pjax]").each((function(){$(this).parent().append($(this).remove())})),GLOBAL_CONFIG.islazyload&&window.lazyLoadInstance.update(),"function"==typeof chatBtnFn&&chatBtnFn(),"function"==typeof panguInit&&panguInit(),"function"==typeof gtag&&gtag("config","",{page_path:window.location.pathname}),"function"==typeof loadMeting&&document.getElementsByClassName("aplayer").length&&loadMeting(),"object"==typeof Prism&&Prism.highlightAll()})),document.addEventListener("pjax:send",(function(){if(window.aplayers)for(let e=0;e<window.aplayers.length;e++)window.aplayers[e].options.fixed||window.aplayers[e].destroy();"object"==typeof typed&&typed.destroy(),$(window).off("scroll"),$("body").hasClass("read-mode")&&$("body").removeClass("read-mode")}))</script></div></body></html>